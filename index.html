<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kozybeats ‚Äì Lofi Station</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0e0e0e;
      color: white;
      overflow: hidden;
    }
    video#bg {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -3;
      filter: blur(10px) brightness(0.5);
    }
    .overlay {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: -2;
      background-image: radial-gradient(white 1px, transparent 1px);
      background-size: 30px 30px;
      opacity: 0.06;
    }
    .container {
      display: flex;
      height: 100vh;
    }
    .sidebar, .tracklist {
      width: 20%;
      padding: 20px;
      overflow-y: auto;
      background: rgba(0, 0, 0, 0.3);
    }
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 20px;
    }
    .player {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(0, 0, 0, 0.5);
      padding: 20px;
      border-radius: 12px;
    }
    .vinyl {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      animation: spin 5s linear infinite;
      object-fit: cover;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .controls button {
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      margin: 0 6px;
      cursor: pointer;
    }
    .spotify {
      margin-top: 5px;
      display: inline-block;
      background: #1DB954;
      color: white;
      padding: 6px 12px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
    }
    .project-cover {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .project-cover:hover {
      transform: scale(1.05);
    }
    .track {
      background: rgba(255, 255, 255, 0.07);
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      cursor: pointer;
    }
    .track.active {
      background: rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body>
  <video autoplay muted loop id="bg">
    <source src="https://res.cloudinary.com/dvtt0ymce/video/upload/v1754228640/Cat_Mushroom_Animated_Digital_Wide_PC_Background_HD_Live_-_Etsy_Video_Video___Anime_wallpaper_Cute_wallpapers_Art_whcjmg.mp4" type="video/mp4" />
  </video>
  <div class="overlay"></div>

  <div class="container">
    <div class="sidebar" id="projects"></div>
    <div class="main">
      <div class="player">
        <img id="vinyl" class="vinyl" src="https://res.cloudinary.com/dvtt0ymce/image/upload/v1754230124/Vinyl-PNG-Transparent-Image_lnmiyw.png">
        <div>
          <div id="nowPlaying">Now Playing: Kozybeats - </div>
          <a id="spotifyLink" class="spotify" href="#" target="_blank" style="display:none;">Open in Spotify</a>
        </div>
        <div class="controls">
          <button id="prev">‚èÆÔ∏è</button>
          <button id="playPause">‚èØÔ∏è</button>
          <button id="next">‚è≠Ô∏è</button>
          <button id="shuffle">üîÄ</button>
          <button id="repeat">üîÅ</button>
        </div>
      </div>
      <audio id="audio" preload="auto"></audio>
    </div>
    <div class="tracklist" id="tracks"></div>
  </div>

  <script>
    const projects = {{
      "Pillowcore Radio": {{
        cover: "https://res.cloudinary.com/dvtt0ymce/image/upload/v1754227293/pillow_radio_xrdpqc.png",
        tracks: [
          {{ name: "Ceiling Fan Dreams", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Ceiling_Fan_Dreams_xqlsq7.mp3" }},
          {{ name: "Curtains Closed", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Curtains_Closed_nqpgtq.mp3" }},
          {{ name: "Dream Archive", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Dream_Archive_wrtdy3.mp3" }},
          {{ name: "Glow Sink", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225847/Glow_Sink_sprxbn.mp3" }},
          {{ name: "Lavender Shadows", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225846/Lavender_Shadows_s3wayo.mp3" }},
          {{ name: "Midnight Left on Read", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225841/Midnight_Left_on_Read_vy5iqm.mp3" }},
          {{ name: "Moonlit Linen", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225841/Moonlit_Linen_nwjuzr.mp3" }},
          {{ name: "Paper Walls", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225847/Paper_Walls_est5ei.mp3" }},
          {{ name: "Rain on 4th Street", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225841/Rain_on_4th_Street_vt5sb9.mp3" }},
          {{ name: "Snooze Signal", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225844/Snooze_Signal_vqjo70.mp3" }},
          {{ name: "Warm Silence", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Warm_Silence_zxijcq.mp3" }},
          {{ name: "Whispers in Blue", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225841/Whispers_in_Blue_tgitgu.mp3" }}
        ]
      }},
      "Evening Static": {{
        cover: "https://res.cloudinary.com/dvtt0ymce/image/upload/v1754229102/056f89b5bdd7b2944636c4e480196abe_1_bhyub6.jpg",
        tracks: [
          {{ name: "Curtains Breathing Slow", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229134/Curtains_Breathing_Slow_si8vdi.mp3" }},
          {{ name: "Heard My Name in the Hiss", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229134/Heard_My_Name_in_the_Hiss_yi1jfb.mp3" }},
          {{ name: "Stayed Just Long Enough", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229136/Stayed_Just_Long_Enough_wlkxsb.mp3" }},
          {{ name: "Memories on the Window Glass", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229137/Memories_on_the_Window_Glass_uw4vxm.mp3" }},
          {{ name: "TV Snow in My Mind", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229138/TV_Snow_in_My_Mind_oxtsqi.mp3" }},
          {{ name: "Pages Left Open", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229139/Pages_Left_Open_r4bxvz.mp3" }},
          {{ name: "The Fan Still Spins", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229139/The_Fan_Still_Spins_qba31z.mp3" }},
          {{ name: "When the Floorboard Creaked", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229142/When_the_Floorboard_Creaked_ljcd2m.mp3" }},
          {{ name: "A Thread Pulled from the Moon", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229143/A_Thread_Pulled_from_the_Moon_kqjhdq.mp3" }},
          {{ name: "Between the Glow and the Silence", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229143/Between_the_Glow_and_the_Silence_xv6mht.mp3" }}
        ]
      }}
    }};

    const audio = document.getElementById('audio');
    const nowPlaying = document.getElementById('nowPlaying');
    const spotifyLink = document.getElementById('spotifyLink');
    const trackList = document.getElementById('tracks');
    const projectList = document.getElementById('projects');
    const vinyl = document.getElementById('vinyl');

    let currentProject = "Pillowcore Radio";
    let currentTrackIndex = 0;
    let isShuffling = false;
    let isRepeating = false;

    function loadProjects() {
      projectList.innerHTML = '';
      for (const [title, data] of Object.entries(projects)) {
        const img = document.createElement('img');
        img.src = data.cover;
        img.className = 'project-cover';
        img.onclick = () => {{
          currentProject = title;
          updateTrackList();
          vinyl.src = data.cover;
        }};
        projectList.appendChild(img);
      }
    }

    function updateTrackList() {
      trackList.innerHTML = '';
      projects[currentProject].tracks.forEach((track, i) => {{
        const btn = document.createElement('div');
        btn.className = 'track';
        btn.textContent = track.name;
        btn.onclick = () => {{
          playTrack(i);
        }};
        if (i === currentTrackIndex) btn.classList.add('active');
        trackList.appendChild(btn);
      }});
    }

    function playTrack(index) {
      const project = projects[currentProject];
      const track = project.tracks[index];
      audio.src = track.url;
      nowPlaying.textContent = `Now Playing: Kozybeats - ${track.name}`;
      spotifyLink.style.display = 'none';
      audio.play();
      currentTrackIndex = index;
      updateTrackList();
    }

    document.getElementById('playPause').onclick = () => {{
      if (audio.paused) audio.play();
      else audio.pause();
    }};
    document.getElementById('next').onclick = () => {{
      nextTrack();
    }};
    document.getElementById('prev').onclick = () => {{
      currentTrackIndex = Math.max(0, currentTrackIndex - 1);
      playTrack(currentTrackIndex);
    }};
    document.getElementById('shuffle').onclick = () => {{
      isShuffling = !isShuffling;
      alert('Shuffle: ' + (isShuffling ? 'On' : 'Off'));
    }};
    document.getElementById('repeat').onclick = () => {{
      isRepeating = !isRepeating;
      alert('Repeat: ' + (isRepeating ? 'On' : 'Off'));
    }};
    audio.onended = () => {{
      if (isRepeating) playTrack(currentTrackIndex);
      else nextTrack();
    }};
    function nextTrack() {{
      const tracks = projects[currentProject].tracks;
      if (isShuffling) {
        const random = Math.floor(Math.random() * tracks.length);
        playTrack(random);
      } else {
        const next = (currentTrackIndex + 1) % tracks.length;
        playTrack(next);
      }
    }

    // Init
    loadProjects();
    updateTrackList();
    playTrack(currentTrackIndex);
  </script>
</body>
</html>

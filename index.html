<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kozybeats â€“ Lofi Station</title>
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0e0e0e;
      color: white;
      overflow: hidden;
    }
    video#bg {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -3;
      filter: blur(10px) brightness(0.5);
    }
    .overlay {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: -2;
      background-image: radial-gradient(white 1px, transparent 1px);
      background-size: 30px 30px;
      opacity: 0.06;
    }
    .container {
      display: flex;
      height: 100vh;
    }
    .sidebar, .tracklist {
      width: 20%;
      padding: 20px;
      overflow-y: auto;
      background: rgba(0, 0, 0, 0.3);
    }
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 20px;
    }
    .player {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(0, 0, 0, 0.5);
      padding: 20px;
      border-radius: 12px;
    }
    .vinyl {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      animation: spin 5s linear infinite;
      object-fit: cover;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .controls button {
      background: #1a1a1a;
      border: none;
      color: white;
      font-size: 16px;
      margin: 0 6px;
      cursor: pointer;
      padding: 10px;
      border-radius: 8px;
      transition: background 0.2s;
    }
    .controls button:hover {
      background: #333;
    }
    .controls i {
      vertical-align: middle;
    }
    .spotify {
      margin-top: 5px;
      display: inline-block;
      background: #1DB954;
      color: white;
      padding: 6px 12px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
    }
    .project-cover {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .project-cover:hover {
      transform: scale(1.05);
    }
    .track {
      background: rgba(255, 255, 255, 0.07);
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      cursor: pointer;
    }
    .track.active {
      background: rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body>
  <video autoplay muted loop id="bg">
    <source src="https://res.cloudinary.com/dvtt0ymce/video/upload/v1754228640/Cat_Mushroom_Animated_Digital_Wide_PC_Background_HD_Live_-_Etsy_Video_Video___Anime_wallpaper_Cute_wallpapers_Art_whcjmg.mp4" type="video/mp4" />
  </video>
  <div class="overlay"></div>

  <div class="container">
    <div class="sidebar" id="projects"></div>
    <div class="main">
      <div class="player">
        <img id="vinyl" class="vinyl" src="https://res.cloudinary.com/dvtt0ymce/image/upload/v1754230124/Vinyl-PNG-Transparent-Image_lnmiyw.png">
        <div>
          <div id="nowPlaying">Now Playing: Kozybeats - </div>
          <a id="spotifyLink" class="spotify" href="#" target="_blank" style="display:none;">Open in Spotify</a>
        </div>
        <div class="controls">
          <button id="prev"><i data-feather="skip-back"></i></button>
          <button id="playPause"><i data-feather="play"></i></button>
          <button id="next"><i data-feather="skip-forward"></i></button>
          <button id="shuffle"><i data-feather="shuffle"></i></button>
          <button id="repeat"><i data-feather="repeat"></i></button>
        </div>
      </div>
      <audio id="audio" preload="auto"></audio>
    </div>
    <div class="tracklist" id="tracks"></div>
  </div>

  <script>
    feather.replace();

    const audio = document.getElementById('audio');
    const nowPlaying = document.getElementById('nowPlaying');
    const spotifyLink = document.getElementById('spotifyLink');
    const trackList = document.getElementById('tracks');
    const projectList = document.getElementById('projects');
    const vinyl = document.getElementById('vinyl');

    let currentProject = "Pillowcore Radio";
    let currentTrackIndex = 0;
    let isShuffling = false;
    let isRepeating = false;

    const projects = {
      "Pillowcore Radio": {
        cover: "https://res.cloudinary.com/dvtt0ymce/image/upload/v1754227293/pillow_radio_xrdpqc.png",
        tracks: [
          { name: "Ceiling Fan Dreams", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Ceiling_Fan_Dreams_xqlsq7.mp3" },
          { name: "Curtains Closed", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Curtains_Closed_nqpgtq.mp3" },
          { name: "Dream Archive", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754225842/Dream_Archive_wrtdy3.mp3" }
        ]
      },
      "Evening Static": {
        cover: "https://res.cloudinary.com/dvtt0ymce/image/upload/v1754229102/056f89b5bdd7b2944636c4e480196abe_1_bhyub6.jpg",
        tracks: [
          { name: "Curtains Breathing Slow", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229134/Curtains_Breathing_Slow_si8vdi.mp3" },
          { name: "Heard My Name in the Hiss", url: "https://res.cloudinary.com/dvtt0ymce/video/upload/v1754229134/Heard_My_Name_in_the_Hiss_yi1jfb.mp3" }
        ]
      }
    };

    function loadProjects() {
      projectList.innerHTML = '';
      for (const [title, data] of Object.entries(projects)) {
        const img = document.createElement('img');
        img.src = data.cover;
        img.className = 'project-cover';
        img.onclick = () => {
          currentProject = title;
          updateTrackList();
          vinyl.src = data.cover;
        };
        projectList.appendChild(img);
      }
    }

    function updateTrackList() {
      trackList.innerHTML = '';
      projects[currentProject].tracks.forEach((track, i) => {
        const btn = document.createElement('div');
        btn.className = 'track';
        btn.textContent = track.name;
        btn.onclick = () => playTrack(i);
        if (i === currentTrackIndex) btn.classList.add('active');
        trackList.appendChild(btn);
      });
    }

    function playTrack(index) {
      const project = projects[currentProject];
      const track = project.tracks[index];
      audio.src = track.url;
      nowPlaying.textContent = `Now Playing: Kozybeats - ${track.name}`;
      audio.play();
      currentTrackIndex = index;
      updateTrackList();
    }

    document.getElementById('playPause').onclick = () => {
      if (audio.paused) {
        audio.play();
      } else {
        audio.pause();
      }
    };

    document.getElementById('next').onclick = () => nextTrack();
    document.getElementById('prev').onclick = () => {
      currentTrackIndex = Math.max(0, currentTrackIndex - 1);
      playTrack(currentTrackIndex);
    };
    document.getElementById('shuffle').onclick = () => {
      isShuffling = !isShuffling;
      alert('Shuffle: ' + (isShuffling ? 'On' : 'Off'));
    };
    document.getElementById('repeat').onclick = () => {
      isRepeating = !isRepeating;
      alert('Repeat: ' + (isRepeating ? 'On' : 'Off'));
    };
    audio.onended = () => {
      if (isRepeating) playTrack(currentTrackIndex);
      else nextTrack();
    };

    function nextTrack() {
      const tracks = projects[currentProject].tracks;
      if (isShuffling) {
        const random = Math.floor(Math.random() * tracks.length);
        playTrack(random);
      } else {
        const next = (currentTrackIndex + 1) % tracks.length;
        playTrack(next);
      }
    }

    loadProjects();
    updateTrackList();
    playTrack(currentTrackIndex);
  </script>
</body>
</html>
